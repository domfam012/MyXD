(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"3iIM":function(e,a,t){"use strict";t.r(a);var s=t("ln6h"),n=t.n(s),l=t("dfwq"),r=t("MX0m"),o=t.n(r),c=t("q1tI"),i=t.n(c),u=t("8Kt/"),p=t.n(u),d=t("ZUpW"),x=t("nOHt"),m=t("vcXL"),b=t.n(m),f=t("vDqi"),g=t.n(f),j=t("Ma5Y"),h=t.n(j),N=t("lsYJ"),v=t("je4i"),w=t.n(v),k=i.a.createElement,y=function(e){var a=Object(c.useState)(""),t=a[0],s=a[1],r=Object(c.useState)(""),i=r[0],u=r[1],m=Object(c.useState)([]),b=m[0],f=m[1],j=Object(c.useState)(""),h=j[0],v=j[1],y=Object(c.useState)(""),O=y[0],C=y[1],S=Object(c.useState)(""),U=S[0],_=S[1],I=Object(c.useRef)(null),L=Object(x.useRouter)(),M=function(e){var a=e.target.value;e.target.checked?f((function(e){return[].concat(Object(l.a)(e),[a])})):f(b.filter((function(e){return e!==a})))};return k(d.a,null,k(p.a,null,k("title",{className:"jsx-1522826312"},"Admin - New")),k("div",{className:"jsx-1522826312 content"},k("div",{className:"jsx-1522826312 row box"},k("div",{className:"jsx-1522826312 col col-sm-12"},k("h1",{className:"jsx-1522826312 header"},"XD \uae00\uc4f0\uae30"),k("div",{className:"jsx-1522826312 row"},k("div",{className:"jsx-1522826312 col col-sm-12"},k("form",{encType:"multipart/form-data",onSubmit:function(e){var a,s,l,r;return n.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t&&i&&O&&U){o.next=4;break}return alert("\uac12\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694."),o.abrupt("return");case 4:if(!confirm("\ub4f1\ub85d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){o.next=13;break}return a=w.a.generate(),o.next=9,n.a.awrap(Object(N.loadStorage)());case 9:s=o.sent,l=s.ref("post/".concat(a)),(r=l.put(I.current.files[0])).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){switch(e.code){case"storage/unauthorized":alert("User doesn't have permission to access the object");break;case"storage/canceled":alert("User canceled the upload");break;case"storage/unknown":alert("Unknown error occurred, inspect error.serverResponse")}}),(function(){var e,s;return n.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,n.a.awrap(r.snapshot.ref.getDownloadURL().then((function(e){return e})));case 2:return e=l.sent,s={title:t,content:i,category:b,imgName:O,link:U,imgPath:e,imgSaveName:a},l.next=6,n.a.awrap(g.a.post("http://myxd.co.kr/api/board/create",s,{headers:{Accept:"application/json",Headers:"content-type","Content-Type":"application/json"}}).then((function(){alert("\uc5c5\ub85c\ub4dc \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),L.push("/admin/p/list")})).catch((function(e){console.log(e),alert("uncaught error occured"),L.push("/admin/p/list")})));case 6:case"end":return l.stop()}}))}));case 13:case"end":return o.stop()}}))},className:"jsx-1522826312"},k("div",{className:"jsx-1522826312 form-group"},k("div",{className:"jsx-1522826312 label-area"},k("label",{for:"title",className:"jsx-1522826312 col-form-label"},"\uc81c\ubaa9")),k("div",{className:"jsx-1522826312 input-area"},k("input",{id:"title",type:"text",name:"title",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:"50",onChange:function(e){s(e.target.value)},className:"jsx-1522826312 form-control"}))),k("div",{className:"jsx-1522826312 form-group"},k("div",{className:"jsx-1522826312 label-area"},k("label",{for:"category",className:"jsx-1522826312 col-form-label bold"},"\uce74\ud14c\uace0\ub9ac")),k("div",{className:"jsx-1522826312 input-area"},k("label",{className:"jsx-1522826312 checkbox checkbox_single"},k("input",{type:"checkbox",value:"UI KITS",onChange:M,className:"jsx-1522826312 filled-in"}),k("span",{className:"jsx-1522826312"},"UI KITS")),k("label",{className:"jsx-1522826312 checkbox checkbox_single"},k("input",{type:"checkbox",value:"Website",onChange:M,className:"jsx-1522826312 filled-in"}),k("span",{className:"jsx-1522826312"},"Website")),k("label",{className:"jsx-1522826312 checkbox checkbox_single"},k("input",{type:"checkbox",value:"Mobile",onChange:M,className:"jsx-1522826312 filled-in"}),k("span",{className:"jsx-1522826312"},"Mobile")),k("label",{className:"jsx-1522826312 checkbox checkbox_single"},k("input",{type:"checkbox",value:"Plug-in",onChange:M,className:"jsx-1522826312 filled-in"}),k("span",{className:"jsx-1522826312"},"Plug-in")))),k("div",{className:"jsx-1522826312 form-group"},k("div",{className:"jsx-1522826312 label-area"},k("label",{style:{lineHeight:"20.4"},for:"description",className:"jsx-1522826312 col-form-label"},"\ub0b4\uc6a9")),k("div",{className:"jsx-1522826312 input-area"},k("textarea",{id:"description",name:"content",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:"1000",onChange:function(e){u(e.target.value)},className:"jsx-1522826312 form-control"}))),k("div",{className:"jsx-1522826312 form-group"},k("div",{className:"jsx-1522826312 label-area"},k("label",{style:{lineHeight:"9.4"},className:"jsx-1522826312 col-form-label"},"\ub300\ud45c \uc774\ubbf8\uc9c0")),k("div",{className:"jsx-1522826312  input-group input-area"},k("div",{className:"jsx-1522826312 file-label"},""===h?k("label",{htmlFor:"fileUploader",className:"jsx-1522826312 add text-center"},"+",k("br",{className:"jsx-1522826312"}),"\uc774\ubbf8\uc9c0"):k("div",{className:"jsx-1522826312 added"},k("img",{src:h,alt:"\uc5c5\ub85c\ub4dc \uc774\ubbf8\uc9c0",className:"jsx-1522826312"}),k("a",{href:"#",onClick:function(e){e.preventDefault(),v(""),C(""),I.current.value=null},className:"jsx-1522826312 btn-close"}))),k("input",{type:"file",id:"fileUploader",name:"img",ref:I,onChange:function(e){var a=URL.createObjectURL(e.target.files[0]);v(a),C(e.target.files[0].name),I.current.focus()},className:"jsx-1522826312 form-control-file"}))),k("div",{className:"jsx-1522826312 form-group"},k("div",{className:"jsx-1522826312 label-area"},k("label",{className:"jsx-1522826312 col-form-label"},"\ub9c1\ud06c")),k("div",{className:"jsx-1522826312 input-area"},k("input",{type:"text",name:"link",placeholder:"\ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694.",maxLength:"250",onChange:function(e){_(e.target.value)},className:"jsx-1522826312 form-control"}))),k("div",{className:"jsx-1522826312 row form-btn"},k("div",{className:"jsx-1522826312 col col-sm-12 text-center"},k("button",{href:"#",onClick:function(e){e.preventDefault()},className:"jsx-1522826312 btn btn-lg btn-outline-lightgray"},"\ucde8\uc18c"),k("button",{href:"#",type:"submit",className:"jsx-1522826312 btn btn-lg btn-primary ml-3"},"\uc800\uc7a5"))))))))),k(o.a,{id:"1522826312"},[".box.jsx-1522826312{margin:70px auto;border:0 solid transparent;box-shadow:0 3px 6px 0 rgba(0,0,0,0.16);background-color:#fff;}",".header.jsx-1522826312{margin:33px 35px 0;padding:0 0 34px;font-weight:bold;line-height:1;border-bottom:3px solid #96959a;}","form.jsx-1522826312{margin:0 35px;}",".form-group.jsx-1522826312{position:relative;}",".label-area.jsx-1522826312{position:absolute;width:17%;top:20px;left:0;padding-left:10px;font-size:18px;}",".input-area.jsx-1522826312{width:83%;margin-left:17%;padding-right:10px;}",".detail-input-area.jsx-1522826312{display:inline-block;width:calc(27.6% - 1px);margin-left:0;}",".detail-img-group.jsx-1522826312:first-child{margin-left:17%;}","textarea.jsx-1522826312{height:381px;line-height:30px;resize:none;}",".file-label.jsx-1522826312{position:relative;width:321px;height:182px;border:1px solid #eaeaea;}",".file-label.jsx-1522826312 .add.jsx-1522826312{display:block;margin:0 auto;padding:69px 0;color:#96959a;}",".file-label.jsx-1522826312 .added.jsx-1522826312{width:100%;height:182px;margin:auto;overflow:hidden;background:#d3d3d3;text-align:center;}",".file-label.jsx-1522826312 .added.jsx-1522826312 img.jsx-1522826312{width:auto;height:100%;max-width:100%;}",'.file-label.jsx-1522826312 .added.jsx-1522826312 .btn-close.jsx-1522826312{position:absolute;top:0;right:0;background-color:#000;width:30px;height:30px;background-image:url("/img/common/btn-close.png");background-repeat:no-repeat;background-size:71%;background-position:center;}','input[type="file"].jsx-1522826312{display:none;}',".form-btn.jsx-1522826312{margin:40px auto;}"]))};y.getInitialProps=function(e){var a,t,s,l,r,o;return n.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=h()(e),t=a.token,(s=!!t)||(e.res.writeHead(302,{Location:"/admin/login"}),e.res.end()),l=e.query.page||"1",c.next=6,n.a.awrap(b()("http://myxd.co.kr/api/board/list/5?page=".concat(l)));case 6:return r=c.sent,c.next=9,n.a.awrap(r.json());case 9:return o=c.sent,c.abrupt("return",{auth:s,data:o.data,page:Number(l)});case 11:case"end":return c.stop()}}))},a.default=y},IMqY:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/p/new",function(){return t("3iIM")}])}},[["IMqY",1,2,8,0,3,4,9]]]);
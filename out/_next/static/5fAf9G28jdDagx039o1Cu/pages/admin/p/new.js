(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3iIM":function(e,a,s){"use strict";s.r(a);var t=s("ln6h"),l=s.n(t),n=s("9Jkg"),o=s.n(n),i=s("MX0m"),c=s.n(i),r=s("q1tI"),m=s.n(r),p=s("8Kt/"),x=s.n(p),d=s("ZUpW"),u=s("nOHt"),b=s("vcXL"),j=s.n(b),g=s("vDqi"),f=s.n(g),h=s("Ma5Y"),N=s.n(h),v=m.a.createElement,w=function(e){var a=Object(r.useState)(""),s=a[0],t=a[1],n=Object(r.useState)(""),i=n[0],m=n[1],p=Object(r.useState)(""),b=p[0],g=p[1],h=Object(r.useState)(""),N=h[0],w=h[1],k=Object(r.useState)(""),y=k[0],O=k[1],S=Object(r.useRef)(null),_=Object(u.useRouter)();return v(d.a,null,v(x.a,null,v("title",{className:"jsx-1646267373"},"Admin - New")),v("div",{className:"jsx-1646267373 content"},v("div",{className:"jsx-1646267373 row box"},v("div",{className:"jsx-1646267373 col col-sm-12"},v("h1",{className:"jsx-1646267373 header"},"XD \uae00\uc4f0\uae30"),v("div",{className:"jsx-1646267373 row"},v("div",{className:"jsx-1646267373 col col-sm-12"},v("form",{encType:"multipart/form-data",onSubmit:function(e){var a,t,n,c;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!confirm("\ub4f1\ub85d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){r.next=20;break}return r.next=5,l.a.awrap(j()("http://13.209.55.219/api/board/create",{method:"POST",headers:{Accept:"application/json",Headers:"content-type","Content-Type":"application/json"},body:o()({title:s,content:i,img:b,imgName:N,link:y})}));case 5:return a=r.sent,r.next=8,l.a.awrap(a.json());case 8:return t=r.sent,n=t.imgSaveName,console.log("result:{".concat(o()(t),"} uploaded")),console.log("imgSaveName:{".concat(o()(n),"} uploaded")),document.cookie="imgName=".concat(n,"; path=/"),(c=new FormData).set("test","test"),c.append("img",S.current.files[0]),r.next=18,l.a.awrap(f()({url:"http://13.209.55.219/api/board/upload",method:"post",headers:{"Content-Type":"multipart/form-data"},data:c}));case 18:200===r.sent.status&&_.push("/admin/p/list");case 20:case"end":return r.stop()}}))},className:"jsx-1646267373"},v("div",{className:"jsx-1646267373 form-group"},v("div",{className:"jsx-1646267373 label-area"},v("label",{className:"jsx-1646267373 col-form-label"},"\uc81c\ubaa9")),v("div",{className:"jsx-1646267373 input-area"},v("input",{type:"text",name:"title",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:"50",onChange:function(e){t(e.target.value)},className:"jsx-1646267373 form-control"}))),v("div",{className:"jsx-1646267373 form-group"},v("div",{className:"jsx-1646267373 label-area"},v("label",{className:"jsx-1646267373 col-form-label"},"\uce74\ud14c\uace0\ub9ac")),v("div",{className:"jsx-1646267373 input-area"},v("label",{className:"jsx-1646267373 checkbox checkbox_single"},v("input",{type:"checkbox",className:"jsx-1646267373 filled-in"}),v("span",{className:"jsx-1646267373"},"UI KITS")),v("label",{className:"jsx-1646267373 checkbox checkbox_single"},v("input",{type:"checkbox",className:"jsx-1646267373 filled-in"}),v("span",{className:"jsx-1646267373"},"Website")),v("label",{className:"jsx-1646267373 checkbox checkbox_single"},v("input",{type:"checkbox",className:"jsx-1646267373 filled-in"}),v("span",{className:"jsx-1646267373"},"Mobile")),v("label",{className:"jsx-1646267373 checkbox checkbox_single"},v("input",{type:"checkbox",className:"jsx-1646267373 filled-in"}),v("span",{className:"jsx-1646267373"},"Plug-in")))),v("div",{className:"jsx-1646267373 form-group"},v("div",{className:"jsx-1646267373 label-area"},v("label",{style:{lineHeight:"20.4"},className:"jsx-1646267373 col-form-label"},"\ub0b4\uc6a9")),v("div",{className:"jsx-1646267373 input-area"},v("textarea",{name:"content",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:"1000",onChange:function(e){m(e.target.value)},className:"jsx-1646267373 form-control"}))),v("div",{className:"jsx-1646267373 form-group"},v("div",{className:"jsx-1646267373 label-area"},v("label",{style:{lineHeight:"9.4"},className:"jsx-1646267373 col-form-label"},"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc")),v("div",{className:"jsx-1646267373  input-group input-area"},v("div",{className:"jsx-1646267373 file-label"},""===b?v("label",{htmlFor:"fileUploader",className:"jsx-1646267373 add text-center"},"+",v("br",{className:"jsx-1646267373"}),"\uc774\ubbf8\uc9c0"):v("div",{className:"jsx-1646267373 added"},v("img",{src:b,alt:"\uc5c5\ub85c\ub4dc \uc774\ubbf8\uc9c0",className:"jsx-1646267373"}),v("a",{href:"#",onClick:function(e){e.preventDefault(),g(""),w(""),S.current.value=null},className:"jsx-1646267373 btn-close"}))),v("input",{type:"file",id:"fileUploader",name:"img",ref:S,onChange:function(e){var a=URL.createObjectURL(e.target.files[0]);g(a),w(e.target.files[0].name),S.current.focus()},className:"jsx-1646267373 form-control-file"}))),v("div",{className:"jsx-1646267373 form-group"},v("div",{className:"jsx-1646267373 label-area"},v("label",{className:"jsx-1646267373 col-form-label"},"\ub9c1\ud06c")),v("div",{className:"jsx-1646267373 input-area"},v("input",{type:"text",name:"link",placeholder:"\ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694.",maxLength:"250",onChange:function(e){O(e.target.value)},className:"jsx-1646267373 form-control"}))),v("div",{className:"jsx-1646267373 row form-btn"},v("div",{className:"jsx-1646267373 col col-sm-12 text-center"},v("button",{href:"#",onClick:function(e){e.preventDefault(),confirm("\uc791\uc131\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&_.push("/admin/p/list")},className:"jsx-1646267373 btn btn-lg btn-outline-lightgray"},"\ucde8\uc18c"),v("button",{href:"#",type:"submit",className:"jsx-1646267373 btn btn-lg btn-primary ml-3"},"\uc800\uc7a5"))))))))),v(c.a,{id:"1646267373"},[".box.jsx-1646267373{margin:70px auto;border:0 solid transparent;box-shadow:0 3px 6px 0 rgba(0,0,0,0.16);background-color:#fff;}",".header.jsx-1646267373{margin:33px 35px 0;padding:0 0 34px;font-weight:bold;line-height:1;border-bottom:3px solid #96959a;}","form.jsx-1646267373{margin:0 35px;}",".form-group.jsx-1646267373{position:relative;}",".label-area.jsx-1646267373{position:absolute;width:17%;top:20px;left:0;padding-left:10px;font-size:18px;}",".input-area.jsx-1646267373{width:83%;margin-left:17%;padding-right:10px;}","textarea.jsx-1646267373{height:381px;line-height:30px;resize:none;}",".file-label.jsx-1646267373{position:relative;width:321px;height:182px;border:1px solid #eaeaea;}",".file-label.jsx-1646267373 .add.jsx-1646267373{display:block;margin:0 auto;padding:69px 0;color:#96959a;}",".file-label.jsx-1646267373 .added.jsx-1646267373{width:100%;margin:auto;}",".file-label.jsx-1646267373 .added.jsx-1646267373 img.jsx-1646267373{width:100%;height:100%;}",'.file-label.jsx-1646267373 .added.jsx-1646267373 .btn-close.jsx-1646267373{position:absolute;top:0;right:0;background-color:#000;width:30px;height:30px;background-image:url("/img/common/btn-close.png");background-repeat:no-repeat;background-size:71%;background-position:center;}','input[type="file"].jsx-1646267373{display:none;}',".form-btn.jsx-1646267373{margin:40px auto;}"]))};w.getInitialProps=function(e){var a,s,t,n,o,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=N()(e),s=a.token,(t=!!s)||(e.res.writeHead(302,{Location:"/admin/login"}),e.res.end()),n=e.query.page||"1",c.next=6,l.a.awrap(j()("http://13.209.55.219/api/board/list/5?page=".concat(n)));case 6:return o=c.sent,c.next=9,l.a.awrap(o.json());case 9:return i=c.sent,c.abrupt("return",{auth:t,data:i.data,page:Number(n)});case 11:case"end":return c.stop()}}))},a.default=w},IMqY:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/p/new",function(){return s("3iIM")}])}},[["IMqY",1,2,0,3,4,8]]]);